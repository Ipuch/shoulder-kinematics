import numpy as np

from .utils import TestUtils

spartacus = TestUtils.spartacus_folder()
module = TestUtils.load_module(spartacus + "/examples/export_data/compliance_report_by_author.py")
compliance_report = module.main()


def test_left_handed_rotation_matrix():
    expected = np.array(
        [
            ["#1", "Begon et al.", 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, "-", 1.0],
            [
                "#2",
                "Bourne et al.",
                0,
                0,
                1,
                "-",
                "-",
                "-",
                0,
                1,
                1,
                0,
                0,
                0,
                "-",
                "-",
                "-",
                "-",
                1,
                0,
                "-",
                "-",
                "-",
                1.0,
            ],
            [
                "#3",
                "Chu et al.",
                1,
                0,
                1,
                "-",
                "-",
                "-",
                1,
                1,
                1,
                1,
                1,
                1,
                "-",
                "-",
                "-",
                "-",
                1,
                0,
                "-",
                "-",
                "-",
                1.0,
            ],
            ["#4", "Fung et al.", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, "-", "-", 0, 0, "-", "-", "-", 0.0],
            [
                "#5",
                "Gutierrez Delgado et al.",
                1,
                1,
                1,
                1,
                0,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                0,
                "-",
                "-",
                "-",
                "-",
                "-",
                "-",
                "-",
                0.0,
            ],
            [
                "#6",
                "Henninger et al.",
                1,
                1,
                1,
                "-",
                "-",
                "-",
                1,
                1,
                1,
                1,
                1,
                1,
                "-",
                "-",
                "-",
                "-",
                1,
                1,
                1,
                1,
                "-",
                1.0,
            ],
            [
                "#7",
                "Karduna et al.",
                0,
                0,
                0,
                "-",
                "-",
                "-",
                0,
                0,
                0,
                0,
                1,
                0,
                "-",
                "-",
                "-",
                "-",
                1,
                0,
                "-",
                "-",
                "-",
                1.0,
            ],
            ["#8", "Kijima et al.", 0, 0, 0, "-", "-", "-", 0, 0, 0, 0, 0, 1, "-", "-", "-", "-", 0, 0, 0, 1, "-", 0.0],
            [
                "#9",
                "Kim et al.",
                0,
                0,
                0,
                "-",
                "-",
                "-",
                0,
                0,
                0,
                0,
                0,
                1,
                "-",
                "-",
                "-",
                "-",
                0,
                0,
                "-",
                "-",
                "-",
                0.0,
            ],
            [
                "#10",
                "Kozono et al.",
                0,
                0,
                0,
                "-",
                "-",
                "-",
                0,
                1,
                1,
                0,
                1,
                1,
                "-",
                "-",
                "-",
                "-",
                "-",
                "-",
                0,
                1,
                "-",
                0.0,
            ],
            ["#11", "Ludewig et al.", 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, "-", 1.0],
            ["#12", "Matsuki et al.", 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, "-", "-", 0, 0, 0, 1, "-", 0.0],
            [
                "#13",
                "Matsumura et al.",
                1,
                1,
                1,
                "-",
                "-",
                "-",
                1,
                1,
                1,
                1,
                1,
                1,
                "-",
                "-",
                "-",
                "-",
                1,
                0,
                "-",
                "-",
                "-",
                1.0,
            ],
            ["#14", "Moissenet et al.", 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, "-", 1.0],
            [
                "#15",
                "Nishinaka et al.",
                0,
                0,
                0,
                "-",
                "-",
                "-",
                0,
                0,
                0,
                "-",
                "-",
                0,
                "-",
                "-",
                "-",
                "-",
                "-",
                "-",
                0,
                1,
                "-",
                0.0,
            ],
            ["#16", "Oki et al.", 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, "-", "-", 1, 0, "-", "-", "-", 1.0],
            [
                "#17",
                "Sahara et al.",
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                "-",
                "-",
                "-",
                0,
                0,
                0,
                1,
                "-",
                "-",
                "-",
                "-",
                "-",
                0.0,
            ],
            ["#18", "Sugi et al.", 0, 0, 0, "-", "-", "-", 0, 0, 0, 0, 0, 1, "-", "-", "-", "-", 0, 0, 0, 1, "-", 0.0],
            ["#19", "Teece et al.", 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1, "-", "-", 1, 0, "-", "-", "-", "-", "-", 1.0],
            [
                "#20",
                "Yoshida et al.",
                1,
                0,
                1,
                "-",
                "-",
                "-",
                1,
                1,
                1,
                1,
                1,
                1,
                "-",
                "-",
                "-",
                "-",
                1,
                0,
                0,
                0,
                "-",
                1.0,
            ],
        ],
        dtype=object,
    )
    np.testing.assert_array_equal(compliance_report, expected)
